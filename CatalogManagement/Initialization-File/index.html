<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Initialization File - Terria</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Terria</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">CatalogManagement <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../@Overview/">@Overview</a>
</li>

                    
                        
<li >
    <a href="../CKAN/">CKAN</a>
</li>

                    
                        
<li >
    <a href="../Format-Conversion-Service/">Format Conversion Service</a>
</li>

                    
                        
<li >
    <a href="../GeoJSON/">GeoJSON</a>
</li>

                    
                        
<li >
    <a href="../Handling-CORS/">Handling CORS</a>
</li>

                    
                        
<li class="active">
    <a href="./">Initialization File</a>
</li>

                    
                        
<li >
    <a href="../Performance-testing/">Performance testing</a>
</li>

                    
                        
<li >
    <a href="../Web-Map-Service/">Web Map Service</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributors <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../Contributors/@Overview/">@Overview</a>
</li>

                    
                        
<li >
    <a href="../../Contributors/CONTRIBUTING/">CONTRIBUTING</a>
</li>

                    
                        
<li >
    <a href="../../Contributors/Contributing-to-TerriaJS/">Contributing to TerriaJS</a>
</li>

                    
                        
<li >
    <a href="../../Contributors/Development-environment/">Development environment</a>
</li>

                    
                        
<li >
    <a href="../../Contributors/Setting-up-Saucelabs-Locally/">Setting up Saucelabs Locally</a>
</li>

                    
                        
<li >
    <a href="../../Contributors/Using-Docker/">Using Docker</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Customizing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../Customizing/@Overview/">@Overview</a>
</li>

                    
                        
<li >
    <a href="../../Customizing/CKAN-previewer/">CKAN previewer</a>
</li>

                    
                        
<li >
    <a href="../../Customizing/Config-JSON/">Config JSON</a>
</li>

                    
                        
<li >
    <a href="../../Customizing/Extending-TerriaJS/">Extending TerriaJS</a>
</li>

                    
                        
<li >
    <a href="../../Customizing/How-to-skin-a-Terria-Map/">How to skin a Terria Map</a>
</li>

                    
                        
<li >
    <a href="../../Customizing/TerriaJS-URL-parameters/">TerriaJS URL parameters</a>
</li>

                    
                        
<li >
    <a href="../../Customizing/TerriaJS-in-iframe/">TerriaJS in iframe</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Deployment <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../Deployment/@Overview/">@Overview</a>
</li>

                    
                        
<li >
    <a href="../../Deployment/Deploying-Terria-Map/">Deploying Terria Map</a>
</li>

                    
                        
<li >
    <a href="../../Deployment/Deploying-and-building-TerriaJS/">Deploying and building TerriaJS</a>
</li>

                    
                        
<li >
    <a href="../../Deployment/Overall-system-architecture/">Overall system architecture</a>
</li>

                    
                        
<li >
    <a href="../../Deployment/Problems-and-Solutions/">Problems and Solutions</a>
</li>

                    
                        
<li >
    <a href="../../Deployment/Setting-up-a-region-mapping-server/">Setting up a region mapping server</a>
</li>

                    
                        
<li >
    <a href="../../Deployment/Using-a-vector-tile-source-for-region-mapping/">Using a vector tile source for region mapping</a>
</li>

                    
                        
<li >
    <a href="../../Deployment/WMS-Services/">WMS Services</a>
</li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../Handling-CORS/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../Performance-testing/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#catalog-init-files">Catalog (init) files</a></li>
        
    
        <li class="main "><a href="#using-a-catalog-file">Using a catalog file</a></li>
        
    
        <li class="main "><a href="#editing-catalog-files">Editing catalog files</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h2 id="catalog-init-files">Catalog (init) files</h2>
<p>A catalog in Terria is defined in one or more catalog files (also known as "init files"). Each is a <a href="https://en.wikipedia.org/wiki/JSON">JSON file</a> with this basic structure:</p>
<pre><code>{
    &quot;catalog&quot;: [
        {
            &quot;type&quot;: &quot;group&quot;,
            &quot;name&quot;: &quot;My group&quot;,
            &quot;items&quot;: [
            ...
            ]
        },
        ...
    ],
    &quot;homeCamera&quot;: {
        &quot;north&quot;: -8,
        &quot;east&quot;: 158,
        &quot;south&quot;: -45,
        &quot;west&quot;: 109
    }
}
</code></pre>

<p>Key points:</p>
<ul>
<li><code>catalog</code> is an array</li>
<li>Every element of that array must have a <code>type</code> (corresponding to a value recognised by TerriaJS) and a <code>name</code></li>
<li>The three major categories of catalog member types are:<ul>
<li><code>group</code>: a manually defined grouping of layers</li>
<li>item types such as <code>geojson</code>, <code>wms</code>, <code>wfs</code> and <code>esri-mapServer</code>, which refer to one single layer</li>
<li>group types such as <code>ckan</code>, <code>wms-getCapabilities</code> and <code>esri-mapServer-group</code></li>
</ul>
</li>
</ul>
<p>Most of the other properties of each layer depend on the specific type. We're working on generating documentation for each type. Meanwhile, you can look at the source code in Terria's <a href="../../Models">/Models</a> folder.</p>
<h2 id="using-a-catalog-file">Using a catalog file</h2>
<p>There are four ways to load a catalog file into Terria:</p>
<ol>
<li>Store it in Terria's <code>wwwroot/init</code> directory, and refer to it in the <code>initializationUrls</code> section of the <a href="../../Customizing/Config-JSON/"><code>config.json</code></a> file. It is loaded automatically when you visit the webpage.</li>
<li>Store it in Terria's <code>wwwroot/init</code> directory, without adding it to config.json. Add the catalog file name (without <code>.json</code>) to the URL after <code>#</code>. For instance, <code>example.com/terria#mycatalog</code>. See <a href="../../Customizing/TerriaJS-URL-parameters/">TerriaJS URL parameters</a> for more information. This method is useful when developing catalog services which are not quite ready for public access, but for showing to interested stakeholders.</li>
<li>Store it anywhere on the web (on a CORS-enabled server). Add the complete URL (including <code>.json</code>) to the URL, after <code>#</code>. For instance, <code>nationalmap.gov.au/#http://example.com/mycatalog.json</code>. This method is useful when developing services for a Terria instance which you don't directly control, and for rapidly previewing changes which you can also share with people.</li>
<li>Store it locally, then drag and drop it into the Terria window.</li>
</ol>
<p>If using method 3, please note:</p>
<ul>
<li>Files on Github, including Gist files, are not served with CORS. However, you can access them through a third-party service, rawgit.com. For instance, https://github.com/TerriaJS/terriajs/blob/master/wwwroot/test/init/test-tablestyle.json can be accessed as https://rawgit.com/TerriaJS/terriajs/master/wwwroot/test/init/test-tablestyle.json.</li>
</ul>
<p>All catalog files, however loaded, are merged together in Terria. Any two items with the same name and place in the tree are combined. This means that if two catalog files each define a group called "Water", there will be only one "Water" group in Terria, containing the two sets of group members merged together.</p>
<h2 id="editing-catalog-files">Editing catalog files</h2>
<p>Catalog files can be edited three ways:</p>
<ol>
<li>Using a desktop text editor. Be very careful to ensure that your file is valid JSON. This is more restrictive format than simple JavaScript, for instance. You can use http://jsonlint.com/ .</li>
<li>Using a JSON-specific editor, such as http://www.jsoneditoronline.org/. This has the advantage that your file will be valid JSON.</li>
<li>Using the Terria Catalog Editor, currently available in a preview version at http://nationalmap.gov.au/editor/ . This editor is not yet considered reliable, and may cause data corruption.</li>
</ol></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>